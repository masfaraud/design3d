#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""

@author: s.bendjebla
"""

# %% Libraries

import design3d as d3d
import design3d.faces as d3df
from design3d import surfaces

# %% Bspline-surface points

points3d = [d3d.Point3D(24.68212350000003, 0.9944705872233237, 1.6626218065549074),
            d3d.Point3D(23.432123500000035, 0.9944705872233146, 1.6626218065549356),
            d3d.Point3D(22.182123500000035, 0.994470587223306, 1.6626218065549645),
            d3d.Point3D(20.93212350000003, 0.9944705872232967, 1.6626218065549923),
            d3d.Point3D(19.68212350000003, 0.9944705872232876, 1.6626218065550202),
            d3d.Point3D(24.68212350000002, 1.1584124941842364, 1.5428939870232294),
            d3d.Point3D(23.43212350000002, 1.1584124941842275, 1.5428939870232579),
            d3d.Point3D(22.18212350000003, 1.1584124941842187, 1.5428939870232865),
            d3d.Point3D(20.932123500000017, 1.1584124941842096, 1.5428939870233145),
            d3d.Point3D(19.68212350000002, 1.1584124941842002, 1.542893987023342),
            d3d.Point3D(24.68212350000002, 1.3080677204559432, 1.4057261596134094),
            d3d.Point3D(23.432123500000024, 1.3080677204559343, 1.4057261596134374),
            d3d.Point3D(22.182123500000028, 1.3080677204559252, 1.4057261596134663),
            d3d.Point3D(20.932123500000017, 1.3080677204559161, 1.4057261596134942),
            d3d.Point3D(19.682123500000024, 1.3080677204559072, 1.405726159613522),
            d3d.Point3D(24.682123500000014, 1.4415905688882158, 1.2528100107862605),
            d3d.Point3D(23.432123500000014, 1.441590568888207, 1.2528100107862892),
            d3d.Point3D(22.182123500000028, 1.4415905688881976, 1.2528100107863176),
            d3d.Point3D(20.93212350000001, 1.441590568888189, 1.2528100107863456),
            d3d.Point3D(19.682123500000014, 1.44159056888818, 1.2528100107863736),
            d3d.Point3D(24.68212350000001, 1.557334305934766, 1.0860314541272151),
            d3d.Point3D(23.43212350000002, 1.5573343059347566, 1.0860314541272433),
            d3d.Point3D(22.18212350000002, 1.557334305934748, 1.0860314541272718),
            d3d.Point3D(20.932123500000014, 1.5573343059347389, 1.0860314541273),
            d3d.Point3D(19.682123500000017, 1.5573343059347298, 1.086031454127328),
            d3d.Point3D(24.682123500000003, 1.6538714652445337, 0.9074473660991564),
            d3d.Point3D(23.432123500000007, 1.6538714652445248, 0.9074473660991846),
            d3d.Point3D(22.18212350000001, 1.6538714652445161, 0.9074473660992132),
            d3d.Point3D(20.932123500000003, 1.653871465244507, 0.9074473660992409),
            d3d.Point3D(19.682123500000007, 1.653871465244498, 0.9074473660992692),
            d3d.Point3D(24.682123500000007, 1.7300114556587558, 0.7192602212499446),
            d3d.Point3D(23.432123500000007, 1.730011455658747, 0.7192602212499726),
            d3d.Point3D(22.182123500000014, 1.7300114556587376, 0.7192602212500011),
            d3d.Point3D(20.9321235, 1.7300114556587285, 0.7192602212500294),
            d3d.Point3D(19.682123500000003, 1.7300114556587198, 0.7192602212500574),
            d3d.Point3D(24.6821235, 1.7848152449499564, 0.5237909287640938),
            d3d.Point3D(23.432123500000003, 1.7848152449499473, 0.5237909287641221),
            d3d.Point3D(22.182123500000007, 1.7848152449499384, 0.5237909287641503),
            d3d.Point3D(20.932123499999996, 1.7848152449499293, 0.5237909287641784),
            d3d.Point3D(19.6821235, 1.7848152449499202, 0.5237909287642066),
            d3d.Point3D(24.682123499999996, 1.8176069370037176, 0.323450207593839),
            d3d.Point3D(23.432123499999996, 1.8176069370037087, 0.3234502075938673),
            d3d.Point3D(22.1821235, 1.8176069370036996, 0.32345020759389564),
            d3d.Point3D(20.932123499999992, 1.8176069370036907, 0.3234502075939238),
            d3d.Point3D(19.682123499999996, 1.817606937003682, 0.3234502075939518),
            d3d.Point3D(24.68212349999999, 1.8279821151115214, 0.12070885683622398),
            d3d.Point3D(23.432123499999992, 1.8279821151115123, 0.12070885683625218),
            d3d.Point3D(22.1821235, 1.8279821151115037, 0.1207088568362804),
            d3d.Point3D(20.932123499999992, 1.8279821151114943, 0.12070885683630857),
            d3d.Point3D(19.68212349999999, 1.8279821151114855, 0.12070885683633678)]

# %% Bspline-surface interpolation

size_u, size_v, degree_u, degree_v = 10, 5, 3, 3

bspline_surface = surfaces.BSplineSurface3D.points_fitting_into_bspline_surface(points3d, size_u, size_v, degree_u, degree_v)

# %% Display 

# bspline_face = bspline_surface.rectangular_cut(0, 1, 0, 1)
# bspline_face.babylonjs()
